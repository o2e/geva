#include "libeva.h"
#include "evadef.h"
#include "evacontrol.h"
#include "evaad.h"
int eva_ad_012c_send(EVA *eva){
    uchar cmd[2]={0x01,0x2c};
    uchar dataone[64]={
    0x02,0x01,0x03,0x3C,0x01,0x03,0x00,0x00,
    0x64,0x4B,0xA9,0x3F,0x77,0x6E,0xB2,0x91,
    0xA2,0x81,0x4F,0xBC,0xB8,0x98,0x2F,0x81,
    0xB3,0x7F,0x87,0x26,0x4F,0x38,0xE5,0x45,
    0x67,0x7B,0xC2,0xAE,0x1B,0x39,0xAB,0xAE,
    0x5C,0xF7,0x34,0x72,0x2C,0x14,0xA7,0x95,
    0x84,0x4F,0x36,0x8D,0x92,0xEF,0x60,0x17,
    0x76,0x73,0x7A,0x47,0x8A,0xA2,0xF5,0xD8,
    };
    if(sendqueue.front==(sendqueue.rear+1)){
    #ifdef __WIN32__
    Sleep(1000);
    #else
    sleep(1);
    #endif
    }else{
    pack_sessionkey(eva,sendqueue.elem+sendqueue.rear,cmd,dataone,64);
    sendqueue.rear++;
    if(sendqueue.rear==MAX_MESSAGE) sendqueue.rear-=MAX_MESSAGE;
    }
    uchar datetwo[64]={
    0x02,0x02,0x03,0x3C,0x01,0x03,0x00,0x00,
    0x27,0x99,0xFE,0xED,0xDF,0xE9,0xF7,0xC4,
    0x2C,0x73,0x25,0x19,0x15,0x22,0x53,0xF6,
    0x92,0x77,0x9C,0xD3,0xFF,0xDE,0x6F,0xE9,
    0xF9,0xAF,0xC2,0x5A,0x02,0xAD,0xEC,0x28,
    0x8B,0xE6,0x82,0x4E,0x90,0x3E,0xCE,0x46,
    0xA0,0xFF,0x07,0x5D,0x01,0x9B,0x8C,0x19,
    0x4A,0xE9,0x23,0xE5,0x91,0xE6,0x3E,0x80,
};
   // pack_sessionkey(eva,cmd,datetwo,64);
if(sendqueue.front==(sendqueue.rear+1)){
    #ifdef __WIN32__
    Sleep(1000);
    #else
    sleep(1);
    #endif
    }else{
    pack_sessionkey(eva,sendqueue.elem+sendqueue.rear,cmd,datetwo,64);
    sendqueue.rear++;
    if(sendqueue.rear==MAX_MESSAGE) sendqueue.rear-=MAX_MESSAGE;
    }
return 01;
}
int eva_ad_012c_recv(EVA *eva){
    return 01;
}
